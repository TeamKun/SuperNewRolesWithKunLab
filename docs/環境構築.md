# SuperNewRolesの環境構築

## ※この手順書はAmongUsがCドライブにあることを前提にしています。

Cドライブ以外にインストールしている場合は、AmongUsのみCドライブにインストールしてください。

詳しくは[こちら](https://www.diskpart.com/jp/articles/move-steam-games-to-another-drive.html)

# AmongUs側の設定

### SteamのAmongusを右クリックし、プロパティをクリック

![Untitled](img/Untitled.png)

### ローカルファイルから参照をクリック

![Untitled](img/Untitled%201.png)

### [任意] Among Usフォルダをコピーし、Among Us vanillaにリネームする

環境構築が失敗したときなどに改めてSteamからDLしなくていいので、作っておくと便利です。

![Untitled](img/Untitled%202.png)

### ****BepInEx Bleeding Edgeをダウンロードし、導入する****
BepInExはMinecraftで言うForgeのような、Unityのmod開発ライブラリです。

### 注意
BepInExのバージョンはSuperNewRolesが使用しているのバージョンに依存します。
ドキュメントの更新がSNRの更新に追いついていない可能性もあるため、ドキュメントの更新から時間がかかっている場合はバージョンの確認をお願いします。

調べるためには通常通りSuperNewRolesをインストールし、起動後 Among Usインストールフォルダ > BepInEx > LogOutput.log の最初の行でバージョンが確認できます。

[BepInExのサイト](https://builds.bepinex.dev/projects/bepinex_be)から**#669**の**IL2CPP_x86**をダウンロードし、zipを展開してAmong Usフォルダに入れる

![Untitled](img/Untitled%203.png)

![Untitled](img/Untitled%204.png)

### Configを設定する

現在のバージョンではそのまま起動するとエラーが発生します。

`BepInEx/config/BepInEx.cfg` を開き、

UnityLogListening = trueをfalseに設定します。

### 通常通りSteamから起動する

起動に時間がかかる場合があります。

Among Us > BepInEx 内に各種フォルダが生成されていれば成功となります。

![Untitled](img/Untitled%205.png)

### Agartha.dll を導入する

[SNRのRelease](https://github.com/ykundesu/SuperNewRoles/releases)からAgartha.dll をDLし、Among Us > BepInEx > plugins に入れます。

![Untitled](img/Untitled%206.png)

![Untitled](img/Untitled%207.png)

### 開発環境を分けるため、Among UsフォルダをAmong Us SNR devにリネームする

また、マルチプレイ検証の複数立ち上げのために2も作っておくとよい

![Untitled](img/Untitled%208.png)

### リポジトリをクローンする

[https://github.com/TeamKun/SuperNewRolesWithKunLab](https://github.com/TeamKun/SuperNewRolesWithKunLab)

### Visual StudioかRiderで開く

Riderが使えるならおすすめはRider

JetBrainsのライセンスがないなら[Visual StudioのCommunity版](https://visualstudio.microsoft.com/ja/vs/community/)を利用する（未検証）

### SuperNewRolesを実行する

![Untitled](img/Untitled%209.png)

### タイトルがSuperNewRoles with KUN LABと表示されていれば終了

![Untitled](img/Untitled%2010.png)

# labmemo検索

コメントで //`labmemo` としているものはlab側のメモなので、検索の参考にしてください

# マルチプレイの検証方法

SNRがはいったアモアスディレクトリをコピペし、「PC以外をキックする」をオフにしたらできた

![Untitled](img/Untitled%2011.png)

# 動的なInspector,Hierarchy

![Untitled](img/Untitled%2012.png)

BepInEx > plugins にフォルダーを入れる

[https://github.com/sinai-dev/UnityExplorer](https://github.com/sinai-dev/UnityExplorer)

![Untitled](img/Untitled%2013.png)
